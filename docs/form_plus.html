<!DOCTYPE html>
<html>
<head>
    <title>続・レターパックプラスラベルメイカー</title>
    <meta charset="utf-8">
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://ajaxzip3.github.io/ajaxzip3.js" charset="UTF-8"></script>
    <script type="text/javascript" src="./scripts/pdfmake.min.js"></script>
    <script type="text/javascript" src="./scripts/form_script.js"></script>
    <script type="text/javascript" src='./scripts/vfs_fonts.js'></script>
    <script type="text/javascript" src="./scripts/plus.js"></script>
    <script type="text/javascript" src="./scripts/pdf_script.js"></script>
    <script type="text/javascript" src="./scripts/file_dl.js"></script>
    <script type="text/javascript" src="./scripts/file_load.js"></script>

    <link rel="stylesheet" type="text/css" href="./css/styles_plus.css">
</head>
<body>

    <div id="base_div">
        <div id="head1"></div>

        <img id="base_img" src="./imgs/plus_base.png">

        <h1>続・<a href="http://www.post.japanpost.jp/service/letterpack/" target="_blank">レターパックプラス</a>ラベルメイカー</h1>
        <div id="overview">
            フォーム入力だけで作成出来ます。<br>
            文字数オーバーすると赤くなります。(そのままでもPDF出力は可能です。)<br>
            ライトは<a href="form_light.html" target="_blank">こちら</a>です。<br>
            PC上で無制限に使いたい方は<a href="https://paymo.life/shops/923e69bf8d/pg4GA2T8UX" target="_blank">有料版</a>をご検討ください。
        </div>
        <button id="reverse_button" class="h_button" title="ToとFromを入れ替え">
            Reverse
        </button>
        <button id="clear_to_button" class="h_button" title="お届け先削除">
            Clear To
        </button>
        <button id="clear_all_button" class="h_button" title="全削除">
            Clear All
        </button>
        
        <input type="text" name="to_zip" id="to_zip" placeholder="郵便番号" title="半角数字7桁" autofocus>
        <textarea name="to_add" id="to_add" placeholder="住所 (14文字 x 4行)" rows=4 title="郵便番号から自動入力"></textarea>
        <textarea name="to_name" id="to_name" placeholder="名前 (13文字 x 2行)" rows=2></textarea>
        <input type="text" name="to_tel1" id="to_tel1" placeholder="TEL1" title="半角数字4桁" class="tel">
        <input type="text" name="to_tel2" id="to_tel2" placeholder="TEL2" title="半角数字4桁" class="tel">
        <input type="text" name="to_tel3" id="to_tel3" placeholder="TEL3" title="半角数字4桁" class="tel">

        <input type="text" name="from_zip" id="from_zip" placeholder="郵便番号" title="半角数字7桁">
        <textarea name="from_add" id="from_add" placeholder="住所 (20文字 x 2行)" rows=2 title="郵便番号から自動入力"></textarea>
        <textarea name="from_name" id="from_name" placeholder="名前 (20文字 x 2行)" rows=2></textarea>
        <input type="text" name="from_tel1" id="from_tel1" placeholder="TEL1" title="半角数字4桁" class="tel">
        <input type="text" name="from_tel2" id="from_tel2" placeholder="TEL2" title="半角数字4桁" class="tel">
        <input type="text" name="from_tel3" id="from_tel3" placeholder="TEL3" title="半角数字4桁" class="tel">
        <textarea name="desc" id="desc" placeholder="品名 (19文字 x 2行)" rows=2></textarea>

        <button id="save_button" title="入力内容をファイルに保存" class="f_button">
            Save
        </button>
        <button id="make_button" class="f_button">Make PDF</button>
        <button id="load_button" title="jsonファイルから読み込み" class="f_button">
            Load
        </button>
        <input type="file" name="load_file" id="load_file" accept=".json">
    </div>

    <script type="text/javascript">
        $('#save_button').on('click', fileDL);
        $('#load_button').on('click', function(){
            $('#load_file').click();
        });
        $('#load_file').on('change', loadData);


        $('#to_zip').on(
            'keyup',
            function(){
                AjaxZip3.zip2addr(this, '', 'to_add', 'to_add');
            }
        );
        $('#from_zip').on(
            'keyup',
            function(){
                AjaxZip3.zip2addr(this, '', 'from_add', 'from_add');
            }
        );

        $('#make_button').on(
            'click', 
            function(){
                var docDefinition = defineDoc();
                pdfMake.createPdf(docDefinition).open();
                return false;
            }
        );

        $('body').on('load', checkLen);
        $('input[type="text"]').on('keyup', checkLen);

        $('body').on('load', checkAreaLen);
        $('textarea').on('keyup', checkAreaLen);

        $('#reverse_button').on('click', reverse);
        $('#clear_all_button').on('click', clearAll);
        $('#clear_to_button').on('click', clearTo);
    </script>
</body>

</html>


